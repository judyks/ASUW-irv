<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      ASUW IRV (Instant-Runoff Voting) Software for Student Government Elections
    </title>

    
    <script src="csvToArray.v2.1.js"></script>
    <script>
      // INTERFACE
    </script>
  </head>
  <body>
    <h1>IRV Voting Calculator</h1>
    <div id="step1">
      <h2>Step1: select a csv file.</h2>
      <input type="file" id="csvFileInput" accept=".csv" />
      <script>
        document
          .getElementById("csvFileInput")
          .addEventListener("change", handleFileSelect);
  
        function handleFileSelect(event) {
          const file = event.target.files[0];
  
          if (file) {
            const reader = new FileReader();
  
            reader.onload = function (e) {
              const csvString = e.target.result;
              window.csvData = csvString.csvToArray();
              console.log(csvData);
            };
  
            reader.readAsText(file);
          }
        }
      </script>
    </div>

    <div id="step2">
      <h2>Step2: Choose title row.</h2>
      <label for="numberInput">Enter a row number:</label>
      <input type="number" id="numberInput" />
      <div id="titlesSelected"></div>
      <script>
        document.getElementById("numberInput").addEventListener("change", handleNumberChange);
        function handleNumberChange(event) {
          const inputValue = event.target.valueAsNumber;
          document.getElementById("titlesSelected").innerHTML = window.csvData[inputValue].map(line => `<div>${line}</div>`).join("");
        }
      </script>
    </div>
  </body>
</html>
